<p id="notice"><%= notice %></p>

<p><%= administrator?() ? "You may modify existing choreographers." : "" %></p>

<h1>Choreographers</h1>


<table class="table table-striped table-bordered table-hover table-condensed contra-table-nonfluid">
  <thead>
    <tr>
      <th<%= administrator?() ? " colspan=3 " : "" %>><%= administrator?() ? "Actions" : "" %></th>
      <th>Name</th>
      <th>Dance Count</th>
    </tr>
  </thead>

  <tbody>
    <% @choreographers.each do |choreographer| %>
      <tr>
        <td><%= link_to view_icon_html, choreographer %></td>
       <% if administrator?() then begin
            # choreographer 1 is special system 'unknown' choreographer
            # don't mess with it, even if you're administrator
            if 1==choreographer.id then%>
              <td></td>
              <td></td>
            <% else %>
              <td><%= link_to edit_icon_html, edit_choreographer_path(choreographer) %></td>
              <td><%= link_to delete_icon_html, choreographer, method:
                      :delete, data: { confirm: 
                      "Delete Coreographer #{choreographer.name}? Really? Are you sure? Remember that if their dance count is non-zero this is going to be BAD." } %></td>
       <%   end end
          end %>
              <td><%= link_to choreographer.name, choreographer %></td>
              <td class="text-right"><%= choreographer.dances.length %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= new_choreographer_button_html() %>
