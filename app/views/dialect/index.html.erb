<h1>Dialect</h1>

<% if @idioms.blank? %>
 <p>You may replace <i>gentlespoons</i> with <i>gentlemen</i>, or <i>gyre</i> with <i>gimble</i>, or <b>any term</b> with <b>any substitution</b>.</p>
<% else %>
  <% @idioms.each do |idiom| %>
    <%= idiom.term %> <%= idiom.substitution %>
  <% end %>
<% end %>
<div class='form-inline'>
  <select id="new-idiom-term" class="form-control">
    <option value="">Choose term...</option>
    <optgroup label="moves"></optgroup>
    <optgroup label="dancers"></optgroup>
  </select>
  <%= button_tag(content_tag(:span, new_icon_html() + ' Substitute'),
      class: 'btn btn-default btn-md btn-success show-new-idiom-dialog',
      disabled: true,
      'data-toggle': 'modal',
      'data-target': '#new-idiom-modal')
     %>
</div>

<!-- Modal -->
<div class="modal fade" id="new-idiom-modal" tabindex="-1" role="dialog" aria-labelledby="new-idiom-label">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="new-idiom-label">Substitute for '(TBD)'</h4>
      </div>
      <%= form_with(model: Idiom::Idiom.new, url: idioms_path) do |f| %>
        <div class="modal-body">
          <%= f.label(:substitution) %><br>
          <%= f.text_field(:substitution, class: 'form-control') %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <%= f.submit('Save', class: 'btn btn-success') %>
        </div>
      <% end %>
    </div>
  </div>
</div>
